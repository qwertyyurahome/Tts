<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>Offline Female TTS Demo</title>
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<style>
  body { font-family: Arial; padding: 20px; background: #f0f0f0; }
  h2 { margin-bottom:5px; }
  textarea { width:100%; height:140px; font-size:16px; margin-bottom:10px; padding:10px; }
  select, button { width:100%; padding:10px; font-size:16px; margin-top:5px; cursor:pointer; }
  button { cursor: pointer; }
</style>
</head>
<body>

<h2>Offline Female TTS Demo</h2>
<p>Select a voice:</p>

<textarea id="text" placeholder="Enter text here..."></textarea>
<select id="voiceSelect"></select>

<button onclick="speak()">▶ Speak</button>
<button onclick="stopSpeech()">⏹ Stop</button>
<button onclick="downloadMP3()">⬇ Download MP3</button>

<audio id="audio" controls style="width:100%; margin-top:10px;"></audio>

<script>
// ====== Налаштування голосів ======
// Тут ми додаємо готові MP3 файли для кожного голосу
const voices = [
  {name: "English Female 1", lang: "en-US", file: "voices/en_female_1.mp3"},
  {name: "English Female 2", lang: "en-GB", file: "voices/en_female_2.mp3"},
  {name: "Ukrainian Female", lang: "uk-UA", file: "voices/uk_female_1.mp3"}
];

const select = document.getElementById('voiceSelect');
voices.forEach((v, i) => {
  const option = document.createElement('option');
  option.value = i;
  option.textContent = v.name + " (" + v.lang + ")";
  select.appendChild(option);
});

const audio = document.getElementById('audio');

function speak() {
  const index = select.value;
  const voice = voices[index];
  if(!voice) return;

  // Генеруємо озвучку через готовий MP3
  audio.src = voice.file;
  audio.play();
}

function stopSpeech() {
  audio.pause();
  audio.currentTime = 0;
}

function downloadMP3() {
  if(!audio.src) {
    alert("Please play a voice first!");
    return;
  }
  const link = document.createElement('a');
  link.href = audio.src;
  link.download = audio.src.split('/').pop();
  link.click();
}
</script>

</body>
</html>