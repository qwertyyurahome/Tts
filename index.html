<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Multi-Language TTS</title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <style>
    body { font-family: Arial, sans-serif; background: #f2f2f2; padding: 20px; }
    textarea { width: 100%; height: 140px; font-size: 16px; padding: 10px; margin-bottom: 10px; }
    select, button { width: 100%; margin-top: 10px; padding: 10px; font-size: 16px; }
    button { cursor: pointer; }
    h2 { margin-bottom: 5px; }
  </style>
</head>
<body>

  <h2>Text to Speech (Multi-Language)</h2>
  <p>Select voice and language:</p>

  <textarea id="text" placeholder="Enter text here..."></textarea>
  <select id="voiceSelect"></select>

  <button onclick="speak()">▶ Speak</button>
  <button onclick="stopSpeech()">⏹ Stop</button>

  <p style="font-size:14px;">Voices depend on your system. Use Chrome on Android for best results.</p>

<script>
let voices = [];

function loadVoices() {
  voices = speechSynthesis.getVoices(); // отримуємо всі голоси
  const select = document.getElementById('voiceSelect');
  select.innerHTML = '';
  voices.forEach((voice, i) => {
    const option = document.createElement('option');
    option.value = i;
    option.textContent = voice.name + ' (' + voice.lang + ')'; // показуємо назву та мову
    select.appendChild(option);
  });
}

speechSynthesis.onvoiceschanged = loadVoices;

function speak() {
  const text = document.getElementById('text').value;
  if (!text) return;
  const utter = new SpeechSynthesisUtterance(text);
  const index = document.getElementById('voiceSelect').value;
  utter.voice = voices[index];
  utter.lang = utter.voice.lang;
  speechSynthesis.cancel(); // зупиняємо попередній звук
  speechSynthesis.speak(utter);
}

function stopSpeech() {
  speechSynthesis.cancel(); // зупиняємо озвучку
}

// Завантажуємо голоси одразу
loadVoices();
</script>

</body>
</html>