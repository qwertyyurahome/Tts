<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Multi-Language Female TTS</title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <style>
    body { font-family: Arial; padding: 20px; background: #f0f0f0; }
    textarea { width: 100%; height: 140px; font-size:16px; margin-bottom:10px; padding:10px; }
    select, button { width: 100%; padding: 10px; font-size:16px; margin-top:5px; }
    button { cursor: pointer; }
    h2 { margin-bottom:5px; }
  </style>
</head>
<body>
  <h2>Multi-Language Female TTS</h2>
  <p>Select voice and language:</p>

  <textarea id="text" placeholder="Enter text here..."></textarea>
  <select id="voiceSelect"></select>

  <button onclick="speak()">▶ Speak</button>
  <button onclick="stopSpeech()">⏹ Stop</button>

<script>
let voices = [];

function loadVoices() {
  voices = speechSynthesis.getVoices();
  const select = document.getElementById('voiceSelect');
  select.innerHTML = '';
  voices.forEach((voice, i) => {
    // Відображаємо тільки жіночі голоси
    if(voice.name.toLowerCase().includes('female') || voice.name.toLowerCase().includes('f')) {
      const option = document.createElement('option');
      option.value = i;
      option.textContent = voice.name + ' (' + voice.lang + ')';
      select.appendChild(option);
    }
  });
}

speechSynthesis.onvoiceschanged = loadVoices;

let currentUtterance = null;

function speak() {
  const text = document.getElementById('text').value.trim();
  if(!text) return;

  const index = document.getElementById('voiceSelect').value;
  const utter = new SpeechSynthesisUtterance(text);
  utter.voice = voices[index];
  utter.lang = utter.voice.lang;

  speechSynthesis.cancel(); // зупиняємо попереднє
  currentUtterance = utter;
  speechSynthesis.speak(utter);
}

function stopSpeech() {
  if(currentUtterance) {
    speechSynthesis.cancel();
  }
}

// Завантажуємо голоси відразу
loadVoices();
</script>

</body>
</html>